"use strict";(self.webpackChunkgallery=self.webpackChunkgallery||[]).push([[987],{4987:(J,d,o)=>{o.r(d),o.d(d,{TokenUpdateModule:()=>Z});var u=o(9808),l=o(1695);class p{constructor(a,n){this._id=a,this.token=n}}var m=o(3312),f=o(3913),v=o(5226),h=o.n(v),t=o(4893),g=o(2313),i=o(2382);function k(e,a){1&e&&(t.TgZ(0,"small",14),t._uU(1,"El token no es valido"),t.qZA())}const T=function(e){return{"router-animation":e}},U=[{path:"",component:(()=>{class e{constructor(n,r,s,c,A){this._instagramService=n,this._route=r,this._router=s,this.titleService=c,this.metaService=A,this.animation=!1,this.url=f.x.url,this.titleService.setTitle("Actualizar token de instagram"),this.metaService.addTag({name:"robots",content:"noindex, nofollow"}),this.tokendata=new p("","")}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.getToken(),this.animation=!0}onSubmit(){this.suscripcion=this._instagramService.updateToken(this.tokendata._id,this.tokendata).subscribe({next:n=>{"Success"==n.status?(this.status="Success",this.tokendata=n.token,h().fire("El token se ha guardado","","success"),this._router.navigate(["/miscellaneous"])):(this.status="Error",h().fire("Ha ocurrido un error y no se ha guardado el token","Vuelva a intentarlo luego","warning"),this._router.navigate(["/admin"]))}})}getToken(){this.suscripcion2=this._route.params.subscribe(n=>{this.suscripcion3=this._instagramService.getToken(n.id).subscribe(s=>{s.token&&(this.tokendata=s.token)})})}ngOnDestroy(){[this.suscripcion,this.suscripcion2,this.suscripcion3].forEach(n=>null==n?void 0:n.unsubscribe()),this.animation=!1}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(m.d),t.Y36(l.gz),t.Y36(l.F0),t.Y36(g.Dx),t.Y36(g.h_))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-token-update"]],features:[t._Bn([m.d])],decls:16,vars:5,consts:[[1,"new",3,"ngClass"],[1,"adminnewsection"],[1,"container"],[1,"row","justify-content-center"],[1,"c-col","col-10","col-sm-10","col-md-8","col-lg-6","enquiryform"],[1,"center","contactcolor"],[3,"ngSubmit"],["tokenUpdateForm","ngForm"],[1,"form-group"],["for","token",1,"formlabel"],["type","text","id","token","placeholder","Token","name","token","required","",1,"form-control",3,"ngModel","ngModelChange"],["token","ngModel"],["style","color: rgb(201, 201, 201)",4,"ngIf"],["type","submit","value","Submit",1,"btn","btn-light","btncustomcontact","boxshadow"],[2,"color","rgb(201, 201, 201)"]],template:function(n,r){if(1&n&&(t.TgZ(0,"main",0)(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),t._uU(6,"Actualiza el token de instagram"),t.qZA(),t.TgZ(7,"form",6,7),t.NdJ("ngSubmit",function(){return r.onSubmit()}),t.TgZ(9,"div",8)(10,"label",9),t._uU(11,"Token"),t.qZA(),t.TgZ(12,"input",10,11),t.NdJ("ngModelChange",function(c){return r.tokendata.token=c}),t.qZA(),t.YNc(14,k,2,0,"small",12),t.qZA(),t._UZ(15,"input",13),t.qZA()()()()()()),2&n){const s=t.MAs(13);t.Q6J("ngClass",t.VKq(3,T,!0===r.animation)),t.xp6(12),t.Q6J("ngModel",r.tokendata.token),t.xp6(2),t.Q6J("ngIf",!s.valid&&s.touched)}},directives:[u.mk,i._Y,i.JL,i.F,i.Fj,i.Q7,i.JJ,i.On,u.O5],styles:[""]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(U)],l.Bz]}),e})();var S=o(520),y=o(7556),b=o(2993),M=o(455);let Z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[y.e,b.a,{provide:S.TP,useClass:M.N,multi:!0}],imports:[[u.ez,C,i.u5]]}),e})()}}]);