"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=241,exports.ids=[241],exports.modules={62241:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{MiscellaneousModule:()=>MiscellaneousModule});var common=__webpack_require__(69808),router=__webpack_require__(74202),core=__webpack_require__(5e3),instagram_service=__webpack_require__(3312),platform_browser=__webpack_require__(22313);const _c0=["theLastList"];function MiscellaneousComponent_ng_container_6_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",8,9)(2,"div",10)(3,"a",11),core._UZ(4,"img",12),core.qZA(),core.TgZ(5,"p",13),core._uU(6),core.qZA()()()),2&rf){const pub_r1=core.oxw().$implicit;core.xp6(3),core.s9C("href",pub_r1.permalink,core.LSH),core.xp6(1),core.s9C("src",pub_r1.media_url,core.LSH),core.MGl("alt","",pub_r1.username," instagram images"),core.xp6(2),core.Oqu(pub_r1.caption)}}function MiscellaneousComponent_ng_container_6_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",8)(1,"div",10)(2,"a",11),core._UZ(3,"img",12),core.qZA(),core.TgZ(4,"p",13),core._uU(5),core.qZA()()()),2&rf){const pub_r1=core.oxw().$implicit;core.xp6(2),core.s9C("href",pub_r1.permalink,core.LSH),core.xp6(1),core.s9C("src",pub_r1.media_url,core.LSH),core.MGl("alt","",pub_r1.username," instagram images"),core.xp6(2),core.Oqu(pub_r1.caption)}}function MiscellaneousComponent_ng_container_6_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,MiscellaneousComponent_ng_container_6_div_1_Template,7,4,"div",7),core.YNc(2,MiscellaneousComponent_ng_container_6_div_2_Template,6,4,"div",7),core.BQk()),2&rf){const i_r2=ctx.index,ctx_r0=core.oxw();core.xp6(1),core.Q6J("ngIf",i_r2+1===ctx_r0.insta.length),core.xp6(1),core.Q6J("ngIf",i_r2+1!==ctx_r0.insta.length)}}__name(MiscellaneousComponent_ng_container_6_div_1_Template,"MiscellaneousComponent_ng_container_6_div_1_Template"),__name(MiscellaneousComponent_ng_container_6_div_2_Template,"MiscellaneousComponent_ng_container_6_div_2_Template"),__name(MiscellaneousComponent_ng_container_6_Template,"MiscellaneousComponent_ng_container_6_Template");const _c1=__name(function(a0){return{"router-animation":a0}},"_c1"),_c2=__name(function(a0){return{contenedor_spinner:a0}},"_c2"),_c3=__name(function(a0){return{spinner:a0}},"_c3");class MiscellaneousComponent{constructor(_instagramService,_router,titleService,metaService,activatedRoute){this._instagramService=_instagramService,this._router=_router,this.titleService=titleService,this.metaService=metaService,this.activatedRoute=activatedRoute,this.animation=!1,this.loader=!1,this.principal="Instagram of Birello Gallery",this.titleService.setTitle("Miscellaneous | Birello Gallery"),this.metaService.updateTag({property:"og:title",content:"Birello Gallery | Miscellaneous"}),this.metaService.updateTag({property:"og:description",content:"Instagram of Birello Gallery, full of amazing paintings"}),this.metaService.updateTag({property:"og:url",content:"https://www.birellogallery.com/miscellaneous"}),this.metaService.updateTag({property:"twitter:title",content:"Birello Gallery | Miscellaneous"}),this.metaService.updateTag({property:"twitter:description",content:"Instagram of Birello Gallery, full of amazing paintings"}),this.metaService.updateTag({property:"twitter:url",content:"https://www.birellogallery.com/miscellaneous"})}ngOnInit(){window.scroll({top:0,left:0,behavior:"smooth"}),this.loader=!0,this.suscripcion=this.activatedRoute.data.subscribe({next:response=>{response.token&&(this.animation=!0,this.token=response.token.token._id,this.content=response.token.token.token,this.suscripcion2=this._instagramService.getInstagram(this.content).subscribe({next:response2=>{this.loader=!1,this.insta=response2.data,this.data=response2.data,response2.paging.cursors.after&&(this.next=response2.paging.cursors.after)}}))}}),this.intersectionObserver()}ngAfterViewInit(){this.suscripcion3=this.theLastList.changes.subscribe({next:response=>{response.last&&this.observer.observe(response.last.nativeElement)}})}intersectionObserver(){this.observer=new IntersectionObserver(entries=>{entries[0].isIntersecting&&this.data.length>1&&(this.loader=!0,this.suscripcion4=this._instagramService.getInstagramNext(this.content,this.next).subscribe({next:response=>{this.loader=!1,response.paging?(this.next=response.paging.cursors.after,this.data=response.data,response.data.forEach(e=>{this.insta.push(e)})):this.data=[]}}))},{root:null,rootMargin:"0px",threshold:.5})}ngOnDestroy(){[this.suscripcion,this.suscripcion2,this.suscripcion3,this.suscripcion4].forEach(e=>null==e?void 0:e.unsubscribe()),this.animation=!1,this.loader=!1}}__name(MiscellaneousComponent,"MiscellaneousComponent"),MiscellaneousComponent.\u0275fac=__name(function(t){return new(t||MiscellaneousComponent)(core.Y36(instagram_service.d),core.Y36(router.F0),core.Y36(platform_browser.Dx),core.Y36(platform_browser.h_),core.Y36(router.gz))},"MiscellaneousComponent_Factory"),MiscellaneousComponent.\u0275cmp=core.Xpm({type:MiscellaneousComponent,selectors:[["app-miscellaneous"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c0,5,core.SBq),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.theLastList=_t)}},"MiscellaneousComponent_Query"),features:[core._Bn([instagram_service.d])],decls:9,vars:11,consts:[[1,"miscellaneous"],[1,"miscellaneoussection"],[1,"center","info","miscellaneoustitle"],[1,"container",3,"ngClass"],[1,"row","justify-content-center"],[4,"ngFor","ngForOf"],[3,"ngClass"],["class","c-col col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4",4,"ngIf"],[1,"c-col","col-12","col-sm-12","col-md-6","col-lg-4","col-xl-4"],["theLastList",""],[1,"imagenes"],[3,"href"],[1,"imggrid",3,"src","alt"],[1,"centered"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"main",0)(1,"section",1)(2,"h1",2),core._uU(3),core.qZA(),core.TgZ(4,"div",3)(5,"div",4),core.YNc(6,MiscellaneousComponent_ng_container_6_Template,3,2,"ng-container",5),core.qZA()()()(),core.TgZ(7,"div",6),core._UZ(8,"div",6),core.qZA()),2&rf&&(core.xp6(3),core.Oqu(ctx.principal),core.xp6(1),core.Q6J("ngClass",core.VKq(5,_c1,!0===ctx.animation)),core.xp6(2),core.Q6J("ngForOf",ctx.insta),core.xp6(1),core.Q6J("ngClass",core.VKq(7,_c2,!0===ctx.loader)),core.xp6(1),core.Q6J("ngClass",core.VKq(9,_c3,!0===ctx.loader)))},"MiscellaneousComponent_Template"),directives:[common.mk,common.sg,common.O5],styles:[""]});var cjs=__webpack_require__(76477),operators=__webpack_require__(83292);class TokenResolveService{constructor(token){this.token=token,this.tokenId="625b1c29ac7355062c33afe1"}resolve(route,state){return this.token.getToken(this.tokenId).pipe((0,operators.KQ)(error=>(0,cjs.of)("No data found")))}}__name(TokenResolveService,"TokenResolveService"),TokenResolveService.\u0275fac=__name(function(t){return new(t||TokenResolveService)(core.LFG(instagram_service.d))},"TokenResolveService_Factory"),TokenResolveService.\u0275prov=core.Yz7({token:TokenResolveService,factory:TokenResolveService.\u0275fac,providedIn:"root"});const routes=[{path:"",component:MiscellaneousComponent,resolve:{token:TokenResolveService}}];class MiscellaneousRoutingModule{}__name(MiscellaneousRoutingModule,"MiscellaneousRoutingModule"),MiscellaneousRoutingModule.\u0275fac=__name(function(t){return new(t||MiscellaneousRoutingModule)},"MiscellaneousRoutingModule_Factory"),MiscellaneousRoutingModule.\u0275mod=core.oAB({type:MiscellaneousRoutingModule}),MiscellaneousRoutingModule.\u0275inj=core.cJS({providers:[TokenResolveService],imports:[[router.Bz.forChild(routes)],router.Bz]});class MiscellaneousModule{}__name(MiscellaneousModule,"MiscellaneousModule"),MiscellaneousModule.\u0275fac=__name(function(t){return new(t||MiscellaneousModule)},"MiscellaneousModule_Factory"),MiscellaneousModule.\u0275mod=core.oAB({type:MiscellaneousModule}),MiscellaneousModule.\u0275inj=core.cJS({providers:[instagram_service.d],imports:[[common.ez,MiscellaneousRoutingModule]]})},3312:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>InstagramService});var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40520),_global__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33913),_angular_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5e3);class InstagramService{constructor(_http){this._http=_http,this.url=_global__WEBPACK_IMPORTED_MODULE_0__.x.url}getTokens(){return this._http.get(this.url+"tokens")}getToken(tokenId){return this._http.get(this.url+"token/"+tokenId)}saveToken(token){let params=JSON.stringify(token),headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__.WM).set("Content-Type","application/json");return this._http.post(this.url+"savetoken",params,{headers})}updateToken(id,token){let params=JSON.stringify(token),headers=(new _angular_common_http__WEBPACK_IMPORTED_MODULE_1__.WM).set("Content-Type","application/json");return this._http.put(this.url+"token/"+id,params,{headers})}getInstagram(token){return this._http.get(`https://graph.instagram.com/v1.0/17841403549294920/media?access_token=${token}&pretty=1&fields=caption%2Cmedia_url%2Cmedia_type%2Cpermalink%2Ctimestamp%2Cusername&limit=6`)}getInstagramNext(token,after){return this._http.get(`https://graph.instagram.com/v1.0/17841403549294920/media?access_token=${token}&pretty=1&fields=caption%2Cmedia_url%2Cmedia_type%2Cpermalink%2Ctimestamp%2Cusername&limit=20&after=${after}`)}}__name(InstagramService,"InstagramService"),InstagramService.\u0275fac=__name(function(t){return new(t||InstagramService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__.LFG(_angular_common_http__WEBPACK_IMPORTED_MODULE_1__.eN))},"InstagramService_Factory"),InstagramService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_2__.Yz7({token:InstagramService,factory:InstagramService.\u0275fac})}};