{"ast":null,"code":"import { Paintings } from '../../models/paintings';\nimport { PaintingsService } from '../../services/paintings.service';\nimport { Global } from '../../services/global';\nimport swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/paintings.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/platform-browser\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"angular-file-uploader\";\n\nfunction PaintingNewComponent_small_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 39);\n    i0.ɵɵtext(1, \"Titulo no es valido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaintingNewComponent_small_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 39);\n    i0.ɵɵtext(1, \"Subtitulo no es valido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaintingNewComponent_small_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 39);\n    i0.ɵɵtext(1, \"Descripcion vacia\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaintingNewComponent_small_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 39);\n    i0.ɵɵtext(1, \"Dimension no es valido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaintingNewComponent_small_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 39);\n    i0.ɵɵtext(1, \"Caracteristicas no es valido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PaintingNewComponent_small_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 39);\n    i0.ɵɵtext(1, \"Link no es valido o es requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"router-animation\": a0\n  };\n};\n\nexport let PaintingNewComponent = /*#__PURE__*/(() => {\n  class PaintingNewComponent {\n    constructor(_paintingsService, _route, _router, metaService) {\n      this._paintingsService = _paintingsService;\n      this._route = _route;\n      this._router = _router;\n      this.metaService = metaService;\n      this.animation = false;\n      this.afuConfig = {\n        multiple: true,\n        formatsAllowed: '.jpg,.png,.gif,.jpeg,.webp',\n        maxSize: '20',\n        uploadAPI: {\n          url: Global.url + 'create',\n          method: 'POST'\n        },\n        theme: 'attachPin',\n        hideProgressBar: true,\n        hideResetBtn: true,\n        hideSelectBtn: false,\n        fileNameIndex: true,\n        replaceTexts: {\n          selectFileBtn: 'Elegi el archivo',\n          resetBtn: 'Resetear',\n          uploadBtn: 'Subir',\n          dragNDropBox: 'Agarra y dejalo',\n          attachPinBtn: 'Sube la imagen de la pintura..',\n          afterUploadMsg_success: 'Subido exitosamente',\n          afterUploadMsg_error: 'Algo fallo',\n          sizeLimit: 'Limite de tamaño'\n        }\n      };\n      this.paintings = new Paintings('', '', '', '', '', '', '', '', '', '', '', '', '', '', null);\n      this.title = 'Crear nueva pintura';\n      this.subtitle = 'Los datos de titulo, subtitulo, descripcion, dimension, caracteristicas y link son obligatorios.';\n      this.url = Global.url;\n      this.metaService.addTag({\n        name: 'robots',\n        content: 'noindex, nofollow'\n      });\n    }\n\n    ngOnInit() {\n      window.scroll({\n        top: 0,\n        left: 0,\n        behavior: 'smooth'\n      });\n      this.animation = true;\n    }\n\n    onSubmit() {\n      this.suscripcion = this._paintingsService.create(this.paintings).subscribe({\n        next: response => {\n          if (response.status == 'Success') {\n            this.status = 'Success';\n            this.paintings[0] = response.paints;\n            swal.fire('Tu pintura se ha subido correctamente', '', 'success');\n\n            this._router.navigate(['/admin']);\n          } else {\n            this.status = 'Error';\n            swal.fire('Ha ocurrido un error y no se ha subido la pintura', 'Vuelva a intentarlo luego', 'warning');\n\n            this._router.navigate(['/admin']);\n          }\n        }\n      });\n    }\n\n    imageUpload(data) {\n      let image0url = data.body.image0url;\n      this.paintings.image0url = image0url;\n      let image1url = data.body.image1url;\n      this.paintings.image1url = image1url;\n      let image2url = data.body.image2url;\n      this.paintings.image2url = image2url;\n      let image3url = data.body.image3url;\n      this.paintings.image3url = image3url;\n      let image4url = data.body.image4url;\n      this.paintings.image4url = image4url;\n      let image5url = data.body.image5url;\n      this.paintings.image5url = image5url;\n    }\n\n    ngOnDestroy() {\n      var _a;\n\n      (_a = this.suscripcion) === null || _a === void 0 ? void 0 : _a.unsubscribe();\n      this.animation = false;\n    }\n\n  }\n\n  PaintingNewComponent.ɵfac = function PaintingNewComponent_Factory(t) {\n    return new (t || PaintingNewComponent)(i0.ɵɵdirectiveInject(i1.PaintingsService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.Meta));\n  };\n\n  PaintingNewComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PaintingNewComponent,\n    selectors: [[\"app-painting-new\"]],\n    features: [i0.ɵɵProvidersFeature([PaintingsService])],\n    decls: 79,\n    vars: 20,\n    consts: [[1, \"new\", 3, \"ngClass\"], [1, \"adminnewsection\"], [1, \"container\"], [1, \"row\", \"justify-content-center\"], [1, \"c-col\", \"col-12\", \"col-sm-12\", \"col-md-10\", \"col-lg-8\", \"enquiryform\"], [1, \"center\", \"contactcolor\"], [1, \"center\", \"contactcolor\", \"infocontact\"], [3, \"ngSubmit\"], [\"paintingNewForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"Titulo\", 1, \"formlabel\"], [\"type\", \"text\", \"id\", \"Titulo\", \"placeholder\", \"Titulo\", \"maxlength\", \"160\", \"name\", \"titulo\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"titulo\", \"ngModel\"], [\"style\", \"color: rgb(201, 201, 201)\", 4, \"ngIf\"], [\"for\", \"Subtitulo\", 1, \"formlabel\"], [\"type\", \"text\", \"id\", \"Subtitulo\", \"placeholder\", \"Subtitulo\", \"maxlength\", \"160\", \"name\", \"subtitulo\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"subtitulo\", \"ngModel\"], [\"for\", \"Descripcion\", 1, \"formlabel\"], [\"id\", \"Descripcion\", \"rows\", \"10\", \"name\", \"descripcion\", \"placeholder\", \"Descripcion\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"descripcion\", \"ngModel\"], [\"for\", \"Dimension\", 1, \"formlabel\"], [\"type\", \"text\", \"id\", \"Dimension\", \"placeholder\", \"Dimension\", \"name\", \"dimension\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"dimension\", \"ngModel\"], [\"for\", \"Caracteristicas\", 1, \"formlabel\"], [\"type\", \"text\", \"id\", \"Caracteristicas\", \"placeholder\", \"Caracteristicas\", \"name\", \"characteristics\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"characteristics\", \"ngModel\"], [\"for\", \"Link\", 1, \"formlabel\"], [\"type\", \"text\", \"id\", \"Link\", \"placeholder\", \"link\", \"name\", \"link\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"link\", \"ngModel\"], [\"for\", \"Link2\", 1, \"formlabel\"], [\"type\", \"text\", \"id\", \"Link2\", \"placeholder\", \"Segundo link\", \"name\", \"link2\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"link2\", \"ngModel\"], [1, \"form-group\", \"contenedor_imagenes\"], [1, \"subida\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"width\", \"16\", \"height\", \"16\", \"fill\", \"currentColor\", \"viewBox\", \"0 0 16 16\", 1, \"bi\", \"bi-box-arrow-up\"], [\"fill-rule\", \"evenodd\", \"d\", \"M3.5 6a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 1 0-1h2A1.5 1.5 0 0 1 14 6.5v8a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-8A1.5 1.5 0 0 1 3.5 5h2a.5.5 0 0 1 0 1h-2z\"], [\"fill-rule\", \"evenodd\", \"d\", \"M7.646.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 1.707V10.5a.5.5 0 0 1-1 0V1.707L5.354 3.854a.5.5 0 1 1-.708-.708l3-3z\"], [3, \"config\", \"ApiResponse\"], [\"type\", \"submit\", \"value\", \"Submit\", 1, \"btn\", \"btn-light\", \"btncustomcontact\", \"boxshadow\", 3, \"disabled\"], [2, \"color\", \"rgb(201, 201, 201)\"]],\n    template: function PaintingNewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"main\", 0)(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h2\", 5);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"h3\", 6);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"form\", 7, 8);\n        i0.ɵɵlistener(\"ngSubmit\", function PaintingNewComponent_Template_form_ngSubmit_9_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(11, \"div\", 9)(12, \"label\", 10);\n        i0.ɵɵtext(13, \"Titulo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 11, 12);\n        i0.ɵɵlistener(\"ngModelChange\", function PaintingNewComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.paintings.titulo = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(16, PaintingNewComponent_small_16_Template, 2, 0, \"small\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 9)(18, \"label\", 14);\n        i0.ɵɵtext(19, \"Subtitulo\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"input\", 15, 16);\n        i0.ɵɵlistener(\"ngModelChange\", function PaintingNewComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.paintings.subtitulo = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(22, PaintingNewComponent_small_22_Template, 2, 0, \"small\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 9)(24, \"label\", 17);\n        i0.ɵɵtext(25, \"Descripcion\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"textarea\", 18, 19);\n        i0.ɵɵlistener(\"ngModelChange\", function PaintingNewComponent_Template_textarea_ngModelChange_26_listener($event) {\n          return ctx.paintings.descripcion = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(28, PaintingNewComponent_small_28_Template, 2, 0, \"small\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"div\", 9)(30, \"label\", 20);\n        i0.ɵɵtext(31, \"Dimension\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"input\", 21, 22);\n        i0.ɵɵlistener(\"ngModelChange\", function PaintingNewComponent_Template_input_ngModelChange_32_listener($event) {\n          return ctx.paintings.dimension = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(34, PaintingNewComponent_small_34_Template, 2, 0, \"small\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"div\", 9)(36, \"label\", 23);\n        i0.ɵɵtext(37, \"Caracteristicas\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"input\", 24, 25);\n        i0.ɵɵlistener(\"ngModelChange\", function PaintingNewComponent_Template_input_ngModelChange_38_listener($event) {\n          return ctx.paintings.characteristics = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(40, PaintingNewComponent_small_40_Template, 2, 0, \"small\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 9)(42, \"label\", 26);\n        i0.ɵɵtext(43, \"Link\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"input\", 27, 28);\n        i0.ɵɵlistener(\"ngModelChange\", function PaintingNewComponent_Template_input_ngModelChange_44_listener($event) {\n          return ctx.paintings.link = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(46, PaintingNewComponent_small_46_Template, 2, 0, \"small\", 13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(47, \"div\", 9)(48, \"label\", 29);\n        i0.ɵɵtext(49, \"Segundo link\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"input\", 30, 31);\n        i0.ɵɵlistener(\"ngModelChange\", function PaintingNewComponent_Template_input_ngModelChange_50_listener($event) {\n          return ctx.paintings.link2 = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(52, \"div\", 32)(53, \"div\", 33);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(54, \"svg\", 34);\n        i0.ɵɵelement(55, \"path\", 35)(56, \"path\", 36);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(57, \"div\", 33);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(58, \"svg\", 34);\n        i0.ɵɵelement(59, \"path\", 35)(60, \"path\", 36);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(61, \"div\", 33);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(62, \"svg\", 34);\n        i0.ɵɵelement(63, \"path\", 35)(64, \"path\", 36);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(65, \"div\", 33);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(66, \"svg\", 34);\n        i0.ɵɵelement(67, \"path\", 35)(68, \"path\", 36);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(69, \"div\", 33);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(70, \"svg\", 34);\n        i0.ɵɵelement(71, \"path\", 35)(72, \"path\", 36);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(73, \"div\", 33);\n        i0.ɵɵnamespaceSVG();\n        i0.ɵɵelementStart(74, \"svg\", 34);\n        i0.ɵɵelement(75, \"path\", 35)(76, \"path\", 36);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵnamespaceHTML();\n        i0.ɵɵelementStart(77, \"angular-file-uploader\", 37);\n        i0.ɵɵlistener(\"ApiResponse\", function PaintingNewComponent_Template_angular_file_uploader_ApiResponse_77_listener($event) {\n          return ctx.imageUpload($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(78, \"input\", 38);\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(10);\n\n        const _r1 = i0.ɵɵreference(15);\n\n        const _r3 = i0.ɵɵreference(21);\n\n        const _r5 = i0.ɵɵreference(27);\n\n        const _r7 = i0.ɵɵreference(33);\n\n        const _r9 = i0.ɵɵreference(39);\n\n        const _r11 = i0.ɵɵreference(45);\n\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(18, _c0, ctx.animation === true));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.title);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.subtitle);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.paintings.titulo);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r1.valid && _r1.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.paintings.subtitulo);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r3.valid && _r3.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.paintings.descripcion);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r5.valid && _r5.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.paintings.dimension);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r7.valid && _r7.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.paintings.characteristics);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r9.valid && _r9.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.paintings.link);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r11.valid && _r11.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.paintings.link2);\n        i0.ɵɵadvance(27);\n        i0.ɵɵproperty(\"config\", ctx.afuConfig);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", _r0.invalid);\n      }\n    },\n    directives: [i4.NgClass, i5.ɵNgNoValidate, i5.NgControlStatusGroup, i5.NgForm, i5.DefaultValueAccessor, i5.MaxLengthValidator, i5.RequiredValidator, i5.NgControlStatus, i5.NgModel, i4.NgIf, i6.AngularFileUploaderComponent],\n    styles: [\".contenedor_imagenes[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.subida[_ngcontent-%COMP%]{width:280px;height:280px;border:1px solid white}\"]\n  });\n  return PaintingNewComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}