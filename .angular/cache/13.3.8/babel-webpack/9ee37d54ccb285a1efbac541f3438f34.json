{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { PaintingsService } from '../../services/paintings.service';\nimport { Global } from '../../services/global';\nimport { json } from '../../services/json.service';\nlet PaintingComponent = class PaintingComponent {\n  constructor(_paintingsService, _route, _router, sanitizer, titleService, metaService) {\n    this._paintingsService = _paintingsService;\n    this._route = _route;\n    this._router = _router;\n    this.sanitizer = sanitizer;\n    this.titleService = titleService;\n    this.metaService = metaService;\n    this.itemLD = json;\n    this.url = Global.url;\n    titleService.setTitle(\"Paintings | Birello Gallery\");\n  }\n\n  ngOnInit() {\n    window.scroll({\n      top: 0,\n      left: 0,\n      behavior: 'smooth'\n    });\n    this.suscripcion = this._route.params.subscribe(params => {\n      let pinturaId = params['id'];\n      this.suscripcion2 = this._paintingsService.getPainting(pinturaId).subscribe({\n        next: response => {\n          if (response.paints) {\n            this.paintings = response.paints;\n            this.metaService.updateTag({\n              property: 'og:title',\n              content: 'Birello Gallery | ' + this.paintings.titulo\n            });\n            this.metaService.updateTag({\n              property: 'og:description',\n              content: this.paintings.descripcion\n            });\n            this.metaService.updateTag({\n              property: 'og:image',\n              content: this.paintings.image0url\n            });\n            this.metaService.updateTag({\n              property: 'og:url',\n              content: 'https://www.birellogallery.com/painting/view/' + this.paintings._id\n            });\n            this.metaService.updateTag({\n              name: 'keywords',\n              content: this.paintings.titulo + \", \" + this.paintings.subtitulo\n            });\n            this.metaService.updateTag({\n              property: 'twitter:title',\n              content: 'Birello Gallery | ' + this.paintings.titulo\n            });\n            this.metaService.updateTag({\n              property: 'twitter:description',\n              content: this.paintings.descripcion\n            });\n            this.metaService.updateTag({\n              property: 'twitter:image',\n              content: this.paintings.image0url\n            });\n            this.metaService.updateTag({\n              property: 'twitter:url',\n              content: 'https://www.birellogallery.com/painting/view/' + this.paintings._id\n            });\n          } else {\n            this._router.navigate([\"/\"]);\n          }\n        }\n      });\n    });\n    this.html = this.getSafeHTML(this.itemLD);\n  }\n\n  getSafeHTML(jsonLD) {\n    const json = jsonLD ? JSON.stringify(jsonLD, null, 2).replace(/<\\/script>/g, '<\\\\/script>') : ''; // escape / to prevent script tag in JSON\n\n    const html = `<script type=\"application/ld+json\">${json}</script>`;\n    return this.sanitizer.bypassSecurityTrustHtml(html);\n  }\n\n  ngOnDestroy() {\n    [this.suscripcion, this.suscripcion2].forEach(e => e === null || e === void 0 ? void 0 : e.unsubscribe());\n  }\n\n};\nPaintingComponent = __decorate([Component({\n  selector: 'app-painting',\n  templateUrl: './painting.component.html',\n  styleUrls: ['./painting.component.css'],\n  providers: [PaintingsService]\n})], PaintingComponent);\nexport { PaintingComponent };","map":null,"metadata":{},"sourceType":"module"}